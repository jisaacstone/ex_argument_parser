    <!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.11.2">
    <title>ArgumentParser – ArgumentParserEx v0.0.2</title>
    <link rel="stylesheet" href="dist/app-feafe9a25b.css" />
    <script src="dist/sidebar_items.js"></script>
  </head>
  <body data-type="modules">

    <div class="main">
<button class="sidebar-toggle">
  <i class="icon-menu"></i>
</button>
<section class="sidebar">
  <button class="sidebar-toggle">
    <i class="icon-menu"></i>
  </button>

  
  <a href="api-reference.html" class="sidebar-projectLink">
    <div class="sidebar-projectDetails">
      <h1 class="sidebar-projectName">
        ArgumentParserEx
      </h1>
      <h2 class="sidebar-projectVersion">
        v0.0.2
      </h2>
    </div>
    
  </a>

  <div class="sidebar-search">
    <i class="icon-search"></i>
    <input type="text" class="sidebar-searchInput" placeholder="search" autocomplete="off" />
  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

    
      <li><a id="modules-list" href="#full-list">Modules</a></li>
    

    

    
  </ul>

  <ul id="full-list" class="sidebar-fullList"></ul>
  <div class="sidebar-noResults"></div>
</section>

<section class="content">
  <div id="content" class="content-inner">


      <h1>
        <small class="visible-xs">ArgumentParserEx v0.0.2</small>
        ArgumentParser
        
        
          <a href="https://github.com/jisaacstone/ex_argument_parser/blob/master/lib/argument_parser.ex#L1" title="View Source" class="view-source" rel="help">
            <i class="icon-code"></i>
          </a>
        
      </h1>

      
        <section id="moduledoc" class="docstring">
          <p>Tool for accepting command-line arguments, intended to be functionally similar to python’s argparse</p>
<h2>Parser</h2>
<p><a href="ArgumentParser.html#content"><code class="inline">ArgumentParser</code></a> is a struct with the following attributes:</p>
<pre><code class="elixir">:flags       | A list of Flag Arguments
:positional  | A list of Positional Arguments
:description | A string to print before generated help
:epilog      | A string to print after generated help
:prefix_char | Char preceding flag arguments. Default `-`
:add_help    | Print help when -h or --help is passed. Default true
:strict      | Throw an error when an unexpected argument is found. Default false</code></pre>
<p>An ArgumentParser can be created with <code class="inline">new</code>. Positional args can be added
with <code class="inline">add_arg</code>, flags with <code class="inline">add_flag</code>. When the parser is setup use
<code class="inline">parse</code> to parse.</p>
<h2>Arguments</h2>
<p>There are 2 types or arguments: positional and flag</p>
<p>Arguments are option lists where the first element is the name of the argument
as an atom. This name will be the key of the map returned by <code class="inline">parse</code>.</p>
<p>Arguments take the following options:</p>
<ul>
<li><a href="#alias"><code class="inline">alias</code></a>
</li>
<li><a href="#action"><code class="inline">action</code></a>
</li>
<li><a href="#choices"><code class="inline">choices</code></a>
</li>
<li><a href="#required"><code class="inline">required</code></a>
</li>
<li><a href="#default"><code class="inline">default</code></a>
</li>
<li><a href="#help"><code class="inline">help</code></a>
</li>
<li><a href="#metavar"><code class="inline">metavar</code></a>
</li>
</ul>
<h3>Flag Arguments</h3>
<p>Flag arguments are defined with a prefix char. The default is <code class="inline">-</code>.
Flags can be either long form <code class="inline">--flag</code> or single character alias <code class="inline">-f</code>
Alias flags can be grouped: <code class="inline">-flag</code> == <code class="inline">-f -l -a -g</code>
Grouping only works if flags take no args.</p>
<h3>Positional arguments</h3>
<p>Positional arguments have as their first element an atom which is their name
Positional arguments will be consumed in the order they are defined.
For example:</p>
<pre><code class="iex elixir">iex&gt;ArgumentParser.parse(
...&gt;  ArgumentParser.new(positional: [[:one], [:two]]),
...&gt;  [&quot;foo&quot;, &quot;bar&quot;])
{:ok, %{one: &quot;foo&quot;, two: &quot;bar&quot;}}</code></pre>
<h2>Actions <a name="action"></a></h2>
<p>Valid actions are</p>
<pre><code class="elixir">:store [default]           | collects one argument and sets as string
{:store, nargs}            | collects [nargs] arguments and sets as string
{:store, convert}          | collects one argument and applys [convert] to it
{:store, nargs, convert}   | collects [nargs] arguments and applys [convert] to them
{:store_const, term}       | sets value to [term] when flag is present
:store_true                | sets value to true when flag is present
:store_false               | sets value to false when flag is present
:append                    | same as `:store`, but can use multiple times and stores as list
{:append, nargs}           | &#39;&#39;
{:append, convert}         | &#39;&#39;
{:append, nargs, convert}  | &#39;&#39;
{:append_const, term, atom}| &#39;&#39;
:count                     | stores a count of # of times the flag is used
:help                      | print help and exit
{:version, version_sting}  | print version_sting and exit</code></pre>
<p>examples:</p>
<pre><code class="iex elixir">iex&gt; ArgumentParser.new(flags: [[:tru, action: :store_true],
...&gt;                            [:fls, action: :store_false],
...&gt;                            [:cst, action: {:store_const, Foo}]]) |&gt;
...&gt;  ArgumentParser.parse(~w[--tru --fls --cst])
{:ok, %{tru: true, fls: false, cst: Foo}}

iex&gt; ArgumentParser.new() |&gt;
...&gt;   ArgumentParser.add_flag(:apnd, action: :append) |&gt;
...&gt;   ArgumentParser.add_arg(:star, action: {:store, :*}) |&gt;
...&gt;   ArgumentParser.parse(~w[--apnd foo one two --apnd bar])
{:ok, %{apnd: [&quot;bar&quot;, &quot;foo&quot;], star: [&quot;one&quot;, &quot;two&quot;]}}</code></pre>
<h3>nargs <a name="nargs"></a></h3>
<p>nargs can be:</p>
<pre><code class="elixir">postitive integer N | collect the next [N] arguments
:*                  | collect remaining arguments until a flag argument in encountered
:+                  | same as :* but thows an error if no arguments are collected
:&#39;?&#39;                | collect one argument if there is any left
:remainder          | collect all remaining args regardless of type</code></pre>
<p>actions <code class="inline">:store</code> and <code class="inline">:append</code> are the same as <code class="inline">{:store, 1}</code> and <code class="inline">{:append, 1}</code></p>
<pre><code class="iex elixir">iex&gt; ArgumentParser.new() |&gt; 
...&gt;   ArgumentParser.add_flag(:apnd, action: :append) |&gt;
...&gt;   ArgumentParser.add_arg(:rmdr, action: {:store, :remainder}) |&gt;
...&gt;   ArgumentParser.parse(~w[--apnd foo one two --apnd bar])
{:ok, %{apnd: [&quot;foo&quot;], rmdr: [&quot;one&quot;, &quot;two&quot;, &quot;--apnd&quot;, &quot;bar&quot;]}}</code></pre>
<h3>convert  <a name="convert"></a></h3>
<p>Convert can be any function with an arity of 1.
If nargs is 1 or :’?’ a String will be passed, otherwise a list of String will be</p>
<pre><code class="iex elixir">iex&gt; ArgumentParser.new(positional: [
...&gt;     [:hex, action: {:store, &amp;String.to_integer(&amp;1, 16)}]]) |&gt;
...&gt;   ArgumentParser.parse([&quot;BADA55&quot;])
{:ok, %{hex: 12245589}}</code></pre>
<h2>Choices <a name="choices"></a></h2>
<p>A list of terms. If an argument is passed that does not match the coices an
error will be returned.</p>
<pre><code class="iex elixir">iex&gt; ArgumentParser.new() |&gt;
iex&gt;   ArgumentParser.add_arg([:foo, choices: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]]) |&gt;
iex&gt;   ArgumentParser.parse([&quot;foo&quot;, &quot;x&quot;], :false)
{:error, &quot;value for foo should be one of [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], got foo&quot;}</code></pre>
<h2>Required <a name="required"></a></h2>
<p>If true an error will be thown if a value is not set. Defaults to false.</p>
<p><strong>flags only</strong></p>
<h2>Default <a name="default"></a></h2>
<p>Default value. </p>
<pre><code class="iex elixir">iex&gt; ArgumentParser.new(positional: [[:dft, default: :foo]]) |&gt;
...&gt;   ArgumentParser.parse([])
{:ok, %{dft: :foo}}</code></pre>
<h2>Help <a name="help"></h2>
<p>String to print for this flag’s entry in the generated help output</p>

        </section>
      

      
        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <i class="icon-link"></i>
            </a>
            Summary
          </h1>
          
  <div class="summary-types summary">
    <h2>
      <a href="#types">Types</a>
    </h2>
    <div class="summary-row">
  <div class="summary-signature">
    <a href="#t:action/0">action()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:argument/0">argument()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:argument_option/0">argument_option()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:convert/0">convert()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:nargs/0">nargs()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:t/0">t()</a>
  </div>
  
</div>

  </div>


          
  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
    <div class="summary-row">
  <div class="summary-signature">
    <a href="#add_arg/2">add_arg(parser, arg)</a>
  </div>
  
    <div class="summary-synopsis"><p>Append a positional arg to an ArgumentParser</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#add_arg/3">add_arg(parser, name, opts)</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#add_flag/2">add_flag(parser, flag)</a>
  </div>
  
    <div class="summary-synopsis"><p>Append a flag arg to an ArgumentParser</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#add_flag/3">add_flag(parser, name, opts)</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#new/1">new(arguments \\ [])</a>
  </div>
  
    <div class="summary-synopsis"><p>Create a new ArgumentParser</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#parse/3">parse(parser, args, print_and_exit \\ true)</a>
  </div>
  
    <div class="summary-synopsis"><p>Parse arguments according to the passed ArgumentParser</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#print_help/1">print_help(parser)</a>
  </div>
  
    <div class="summary-synopsis"><p>Generate help string for a parser</p>
</div>
  
</div>

  </div>


          

          

        </section>
      

      
        <section id="types" class="types details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#types">
              <i class="icon-link"></i>
            </a>
            Types
          </h1>
          <div class="types-list">
            <div id="t:action/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:action/0">action</a> ::
  :store |
  {:store, <a href="#t:nargs/0">nargs</a>} |
  {:store, <a href="#t:convert/0">convert</a>} |
  {:store, <a href="#t:nargs/0">nargs</a>, <a href="#t:convert/0">convert</a>} |
  {:store_const, term} |
  :store_true |
  :store_false |
  :append |
  {:append, <a href="#t:nargs/0">nargs</a>} |
  {:append, <a href="#t:convert/0">convert</a>} |
  {:append, <a href="#t:nargs/0">nargs</a>, <a href="#t:convert/0">convert</a>} |
  {:append_const, term, atom} |
  :count |
  :help |
  {:version, <a href="http://elixir-lang.org/docs/stable/elixir/String.html#t:t/0">String.t</a>}</code></pre>
  
</div>
<div id="t:argument/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:argument/0">argument</a> :: [atom | <a href="#t:argument_option/0">argument_option</a>]</code></pre>
  
</div>
<div id="t:argument_option/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:argument_option/0">argument_option</a> ::
  {:alias, atom} |
  {:action, <a href="#t:action/0">action</a>} |
  {:choices, term} |
  {:required, boolean} |
  {:default, term} |
  {:help, <a href="http://elixir-lang.org/docs/stable/elixir/String.html#t:t/0">String.t</a>} |
  {:metavar, atom}</code></pre>
  
</div>
<div id="t:convert/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:convert/0">convert</a> :: (<a href="http://elixir-lang.org/docs/stable/elixir/String.html#t:t/0">String.t</a> -> term)</code></pre>
  
</div>
<div id="t:nargs/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:nargs/0">nargs</a> :: pos_integer | :"?" | :* | :+ | :remainder</code></pre>
  
</div>
<div id="t:t/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:t/0">t</a> :: %ArgumentParser{add_help: boolean, description: <a href="http://elixir-lang.org/docs/stable/elixir/String.html#t:t/0">String.t</a>, epilog: <a href="http://elixir-lang.org/docs/stable/elixir/String.html#t:t/0">String.t</a>, flags: [<a href="#t:argument/0">argument</a>], positional: [<a href="#t:argument/0">argument</a>], prefix_char: char, strict: boolean}</code></pre>
  
</div>

          </div>
        </section>
      

      
        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <i class="icon-link"></i>
            </a>
            Functions
          </h1>
          <div class="detail" id="add_arg/2">
  <div class="detail-header">
    <a href="#add_arg/2" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">add_arg(parser, arg)</span>
      
      <a href="https://github.com/jisaacstone/ex_argument_parser/blob/master/lib/argument_parser.ex#L244" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
  <section class="docstring">
    <p>Append a positional arg to an ArgumentParser.</p>
<p>example:</p>
<pre><code class="iex elixir">iex&gt; ArgumentParser.new(description: &quot;Lorem Ipsum&quot;) |&gt;
...&gt;   ArgumentParser.add_arg(:foo, required: :false, action: :store_true)
%ArgumentParser{description: &quot;Lorem Ipsum&quot;, add_help: :true,
                prefix_char: ?-, epilog: &quot;&quot;,
                flags: [],
                positional: [[:foo, required: :false, action: :store_true]]}</code></pre>

  </section>
</div>
<div class="detail" id="add_arg/3">
  <div class="detail-header">
    <a href="#add_arg/3" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">add_arg(parser, name, opts)</span>
      
      <a href="https://github.com/jisaacstone/ex_argument_parser/blob/master/lib/argument_parser.ex#L248" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
  <section class="docstring">
    
  </section>
</div>
<div class="detail" id="add_flag/2">
  <div class="detail-header">
    <a href="#add_flag/2" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">add_flag(parser, flag)</span>
      
      <a href="https://github.com/jisaacstone/ex_argument_parser/blob/master/lib/argument_parser.ex#L224" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
  <section class="docstring">
    <p>Append a flag arg to an ArgumentParser.</p>
<p>example:</p>
<pre><code class="iex elixir">iex&gt; ArgumentParser.new(description: &quot;Lorem Ipsum&quot;) |&gt;
...&gt;   ArgumentParser.add_flag(:foo, required: :false, action: :store_true)
%ArgumentParser{description: &quot;Lorem Ipsum&quot;, add_help: :true,
                prefix_char: ?-, epilog: &quot;&quot;,
                flags: [[:foo, required: :false, action: :store_true]],
                positional: []}</code></pre>

  </section>
</div>
<div class="detail" id="add_flag/3">
  <div class="detail-header">
    <a href="#add_flag/3" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">add_flag(parser, name, opts)</span>
      
      <a href="https://github.com/jisaacstone/ex_argument_parser/blob/master/lib/argument_parser.ex#L228" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
  <section class="docstring">
    
  </section>
</div>
<div class="detail" id="new/1">
  <div class="detail-header">
    <a href="#new/1" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">new(arguments \\ [])</span>
      
      <a href="https://github.com/jisaacstone/ex_argument_parser/blob/master/lib/argument_parser.ex#L208" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">new(<a href="http://elixir-lang.org/docs/stable/elixir/Dict.html#t:t/0">Dict.t</a>) :: <a href="#t:t/0">t</a></code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Create a new ArgumentParser</p>
<p>example:</p>
<pre><code class="iex elixir">iex&gt; ArgumentParser.new(description: &quot;Lorem Ipsum&quot;)
%ArgumentParser{description: &quot;Lorem Ipsum&quot;, add_help: :true,
                prefix_char: ?-, epilog: &quot;&quot;,
                flags: [], positional: []}</code></pre>

  </section>
</div>
<div class="detail" id="parse/3">
  <div class="detail-header">
    <a href="#parse/3" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">parse(parser, args, print_and_exit \\ true)</span>
      
      <a href="https://github.com/jisaacstone/ex_argument_parser/blob/master/lib/argument_parser.ex#L283" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">parse(<a href="#t:t/0">t</a>, [<a href="http://elixir-lang.org/docs/stable/elixir/String.html#t:t/0">String.t</a>], boolean) :: ArgumentParser.Parser.result</code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Parse arguments according to the passed ArgumentParser.</p>
<p>Usually returns an <code class="inline">{:ok, result}</code> tuple. Exceptions are:</p>
<h3>if error was encountered during parsing</h3>
<p>If <code class="inline">print_and_exit</code> is <code class="inline">:true</code> a helpful error message is sent to stdout and
the process exits.
If <code class="inline">print_and_exit</code> is <code class="inline">:false</code> an <code class="inline">{:error, reason}</code> tuple is returned.</p>
<h3>if help or version message should be printed</h3>
<p>If <code class="inline">print_and_exit</code> is <code class="inline">:true</code> the message is sent to stdout and
the process exits.
If <code class="inline">print_and_exit</code> is <code class="inline">:false</code> a <code class="inline">{:message, string}</code> tuple is returned.</p>

  </section>
</div>
<div class="detail" id="print_help/1">
  <div class="detail-header">
    <a href="#print_help/1" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">print_help(parser)</span>
      
      <a href="https://github.com/jisaacstone/ex_argument_parser/blob/master/lib/argument_parser.ex#L260" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">print_help(<a href="#t:t/0">t</a>) :: <a href="http://elixir-lang.org/docs/stable/elixir/String.html#t:t/0">String.t</a></code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Generate help string for a parser</p>
<p>Will print the description,
followed by a generated description of all arguments
followed by an epilog.</p>

  </section>
</div>

        </section>
      

      

      
        <footer class="footer">
      <p>
        <span class="line">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" rel="help" target="_blank">ExDoc</a> (v0.11.2),
        </span>
        <span class="line">
          designed by
          <a href="https://twitter.com/dignifiedquire" target="_blank" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
      </p>
      <button class="night-mode-toggle" />
    </footer>
  </div>
</section>
</div>
  <script src="dist/app-1d1b741c5e.js"></script>
  </body>
</html>

